# Скрипт для создания резервной копии домашней директории

## Описание

Данный скрипт предназначен для создания резервной копии данных из домашней директории текущего пользователя на Linux. Он выполняет копирование данных во временный каталог, а затем создание архива этих данных с использованием `tar`, с возможностью отображения прогресса при помощи утилиты `pv` (Pipe Viewer), если она установлена.

## Требования

- Linux операционная система.
- Установленные утилиты `rsync` (для копирования данных) и `tar` (для создания архива).
- Опционально: утилита `pv` для отображения прогресса операций копирования и архивации.

## Использование

1. **Установка зависимостей:**
   - Скрипт автоматически проверяет наличие необходимых зависимостей (`rsync`, `tar`, `pv`) и, если они отсутствуют, предлагает их установить с помощью системного пакетного менеджера.

2. **Запуск скрипта:**
   - Перейдите в каталог, где находится скрипт `backup_script.sh`.
   - Выдайте права на выполнение скрипта командой:
     ```bash
     chmod +x backup_script.sh
     ```
   - Запустите скрипт, указав путь к папке, где будет сохранена резервная копия. Например:
     ```bash
     ./backup_script.sh /path/to/backup/directory
     ```
     Замените `/path/to/backup/directory` на желаемый путь для сохранения резервной копии.

3. **Процесс выполнения:**
   - Скрипт создаст временный каталог для хранения копируемых данных.
   - Данные из домашней директории текущего пользователя будут скопированы в этот временный каталог с использованием утилиты `rsync`.
   - После копирования данные будут архивированы в формате `tar.gz`, архив будет сохранен в указанной папке для бекапов.
   - В процессе архивации (если установлен `pv`), скрипт отобразит прогресс операции.
   - После успешного создания архива временный каталог будет автоматически удален.

4. **Завершение:**
   - По завершении работы скрипта проверьте указанную папку для бекапов на наличие созданного архива.

## Примечания

- **Установка зависимостей:** В случае отсутствия необходимых зависимостей (`rsync`, `tar`, `pv`) на системе, скрипт предложит их установить автоматически при помощи системного пакетного менеджера. Для этого потребуются права администратора (sudo).

- **Отображение прогресса:** Использование утилиты `pv` для отображения прогресса операций копирования и архивации значительно улучшает пользовательский интерфейс и позволяет лучше контролировать процесс.

- **Удаление временного каталога:** После успешного создания архива временный каталог будет автоматически удален, что помогает освободить место на диске.

- **Расположение файлов:** Для корректной работы рекомендуется разместить скрипт `backup_script.sh` в каталоге, удобном для вас.

## Пример использования

```bash
./backup_script.sh /path/to/backup/folder [skip-install] [password]
```

- `/path/to/backup/folder`: Путь к папке для бекапов.
- `skip-install` (необязательно): Пропустить установку зависимостей.
- `password` (необязательно): Пароль для шифрования архива.